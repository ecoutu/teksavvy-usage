<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
<!--
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,300,600' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="./css/styles.css"/>

  <script src="js/bower_components/requirejs/require.js"></script>
  <script src="js/config.js"></script>
  <script src="js/main.js"></script>
 -->
 <link href="js/bower_components/c3/c3.css" rel="stylesheet" type="text/css" />

 <script src="js/bower_components/d3/d3.min.js" charset="utf-8"></script>
 <script src="js/bower_components/c3/c3.min.js"></script>
 <script src="js/bower_components/jquery/dist/jquery.js"></script>
 <script type="text/javascript">
 var chart = null;
   $(document).ready(function() {
    $('#submit').click(function() {
      var apiKey = $('#api-key').val();
      $.getJSON('usage/'+apiKey+'/on-peak-download', function(res) {
        console.log(res);
        chart = c3.generate({
          bindto: '#chart',
          data: {
            x: 'x',
            columns: [
              res.xAxis,
              res.onPeakDownload,
              res.onPeakUpload,
              res.offPeakDownload,
              res.offPeakUpload
            ]
          },
          axis: {
            x: {
              type: 'timeseries',
              tick: {
                format: '%Y-%m-%d'
              }
            }
          }
        });
      });
    });
   });
 </script>
 </head>
<body>
<div>
API Key <input type="text" id="api-key"></input> <input type="button" value="Submit" id="submit"></input>
</div>
<div id="chart"></div>
</body>
</html>
